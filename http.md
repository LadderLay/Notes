## 1⃣️ Web及网络基础

### TCP/IP 协议族
分层管理  
**应用层：**
决定了向用户提供应用服务时通信的活动  
FTP文件传输协议 DNS域名系统 HTTP协议  
**传输层：**  
提供处于网络连接中的两台计算机之间的数据传输  
TCP传输控制协议  UDP用户数据报协议 
**网络层：**  
处理在网络上流动的数据包（网络传输的最小数据单位） 选择传输路径
**数据链路层：**   
网络接口层  
处理连接网络的 硬件部分  
发送端：应用层->链路层，接收端则相反
#### IP
Internet Protocol  位于网络层  
IP地址：指明节点被分配到的地址  
MAC地址： 指网卡所属的固定地址  
ARP协议：解析地址 根据通信方的IP地址就能反查出对应的 MAC 地址  
路由选择    
#### TCP
提供字节流服务 位于传输层
便于通信 将 HTTP 请求 报文分割成报文段/重组收到的报文段
**三次握手策略**：
发送端 --带 SYN 标志的数据包--> 接收端
发送端 <--带 SYN/ACK 标志的数据包-- 接收端 传达确认信息
发送端 --带 ACK 标志的数据包--> 接收端  代表握手结束
#### DNS
位于应用层  提供域名到 IP 地址之间的解析服务  

### URI/URL
## 2⃣️ 简单的 HTTP 协议 


## 3⃣️ HTTP 报文内的 HTTP 信息
HTTP 报文-  
报文首部 + 报文主体
请求报文-----响应报文
 请求行       状态行
 请求首部     响应首部
 通用首部     通用首部
 其他         其他

编码提升传输效率
内容编码
分解发送的分块传输编码
传输编码

发送多种数据的多部分对象

MIME


## 4⃣️ HTTP 状态码

1XX Informational   接收请求正在处理
2XX Success
3XX Redirection重定向  需要进行附加操作完成请求
4XX Client Error客户端错误  服务器无法处理请求
5XX Server Errror服务端错误 服务器请求错误

### 3XX 重定向
301 永久重定向  请求的资源已被分配新的 URI ，以后应使用资源现在指向的 URI  
302 临时重定向  请求的资源已被分配新的 URI ，希望用户（本次）能使用新的 URI 进行访问  
303 表示请求的资源存在另一个 URI ， 应使用 GET 方法定向获取请求资源 
    303 明确表示客户端需要用 GET 获取资源
304 找到资源但不符合要求；与重定向无关
307 状态码与302同义，但严格遵守标准不会从POST变更到GET

### 4XX 客户端错误
400 Bad Request 请求报文中存在语法错误
401 Unauthorized HTTP 认证（BASIC 认证、DIGEST 认证）
403 Forbidden   对请求资源的访问被服务器拒绝
404 Not Found   服务器上无法找到请求的资源

### 5XX 服务器错误
501 服务器在执行请求时发生错误
503 服务器暂时超负荷/停机维护中，无法处理请求

PS.存在状态码和实际状态不一致的情况  

## 5⃣️ 与 HTTP 协作的 Web 服务器
http/1.1允许一台 HTTP 服务器搭建多个 Web 站点
virtual host 虚拟服务器
### 通信数据转发：  
**代理**：  
服务器和客户端的”中间人“  接受客户端的请求并转发给服务器（反之也有）  
代理不改变请求URI
通过代理服务器进行转发/响应时，会追加`via`首部信息
```
via:proxy1
```
代理分类：是否使用缓存；是否修改报文；
缓存代理  透明代理
**网关**：  
转发其他服务器通信数据的服务器  
可以将 HTTP 请求转化为其他协议请求  
提高通信安全性   
**隧道**：在客户端和服务器之间进行中转   
可使用 SSL 等加密手段进行通信
### 资源缓存
缓存代理
客户端缓存 
## 6⃣️ HTTP 首部

### HTTP 报文首部
报文首部组成部分： 
请求报文- 
请求行：方法、URI、HTTP版本
HTTP 首部字段：（请求首部字段 通用首部字段 实体首部字段）
其他

响应报文-
状态行：HTTP 版本、状态码
HTTP 首部字段：（响应首部字段 通用首部字段 实体首部字段）
其他
### HTTP 首部字段

### HTTP/1.1 通用首部字段
`Cache-Control` 操作缓存的工作机制
public private
no-cache 客户端不接收缓存过的响应  中间的缓存服务器必须将客户端请求转发给源服务器 避免从缓存中返回过期资源 
no-store 缓存不能在本地存储请求或响应的一部分
s-maxage & max-age ： 功能类似，前者适用于供多位用户使用的公共缓存服务器
no-transform: 缓存不能改变实体主体的媒体类型
`Connection`  
控制不再转发给代理的首部字段
管理持久连接 
`Pragma`  
历史遗留字段 向后兼容  
只用在客户端发送的请求中  
客户端要求所有中间服务器不返回缓存的资源  
```
Cache-control: no-cache
Pragma: no-cache
```
`Trailer`
事先说明在报文主体后记录了哪些首部字段。
`Transfer-Encoding`  
规定传输报文主体时采用的编码机制
http1.1仅对分块传输编码有效
`Upgrade`  
检测 HTTP 协议及其他协议是否可以使用更高的版本进行通信
参数值可以用来指定一个完全不同的通信协议
attention：upgrade 首部字段产生作用的 Upgrade 对象仅限于客户端和邻接服务器，因此 connection 也需设置Upgrade
`Via`  
追踪客户端和服务器之间的请求和响应报文的传输路径。
经常和 Trace 一起使用
`Warning`
告知用户一些与用户缓存相关的问题的警告
警告码

### 请求首部字段
`Accept`
通知服务器 用户能处理的媒体类型和媒体类型的相对优先级
`q=0～1（范围精确到小数点后三位）`约束权重值
`Accept-Charset`  
用来通知服务器用户代理支持的字符集和字符集的相对优先顺序
`Accept-Encoding`  
用来通知服务器用户代理支持的内容编码和内容编码的相对优先顺序
`Accept-Language`

`Authorization`
告知服务器 用户代理的认证信息/证书值
`Expect`

`From`

`Host`
### 响应首部字段
`Accept-Range`
告知客户端服务器是否能处理范围请求，从而指定服务器端某个部分的资源 bytes/none
`Age`
告知客户端源服务器在多久前创建了响应。字段值为秒。
`ETag`
告知客户端实体标示
资源被缓存时，就会被分配唯一性标识
分强弱
`Location`

`Proxy-Authenticate`
会把代理服务器要求的认证信息发送给客户端
`Retry-After`

`Server`

`Vary`

### 实体首部字段

## 7⃣️ 确保 Web 安全的 HTTPS
http缺陷 ：
- 使用明文
- 不验证 通信方的身份
- 无法验证报文的完整性